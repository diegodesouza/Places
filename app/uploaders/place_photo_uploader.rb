# encoding: utf-8

class PlacePhotoUploader < CarrierWave::Uploader::Base
  version :default

  if Rails.env.production? || Rails.env.development?
    storage :fog
  else
    storage :file
  end

  def store_dir
    "uploads/#{model.class.to_s.underscore}/#{mounted_as}/#{model.id}"
  end

  def default_url
    "data:image/jpeg;base64,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"
  end

  def extension_white_list
    %w(jpg jpeg gif png)
  end

  include CarrierWave::MiniMagick

  process :resize_to_fit => [800, 800]

  version :thumb do
    process :resize_to_fill => [150, 150]
  end
end
